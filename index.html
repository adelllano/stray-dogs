<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Stray Dogs in MDC</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.1/leaflet.css" />
    <link href="css/leaflet.groupedlayercontrol.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
    integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
    crossorigin=""/>
    <link href="css/leaflet.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
    integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
    crossorigin=""></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.1/leaflet.js"></script>
    <script src="js/leaflet.groupedlayercontrol.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>

    <link href="css/leaflet.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />



  </head>



  <body>
    <div class="title">
        <p>Stray Dogs in Miami-Dade County</p>
    </div>

    <div class="hero">
      <img src="straydog.svg">
    </div>

  <div class="container">

    <main>


    <div class="intro">
      <p>BY<strong> ANGIE DEL LLANO, CAROLINA DIAZ, MELISSA GUTIERREZ, & SIYUAN TONG</strong></p>
      <p>311 is a non-emergency phone number that people can call in many cities to find information about services, make complaints, or report problems. Recently, this Miami - Dade data set about Stray Dogs was made available to the public. The following data set contains service request activity for Miami-Dade County. The data sets include services completed by Miami-Dade County departments and requests submitted by citizens via phone (311), online (miamidade.gov), and other self service channels such as the 311 Direct mobile application. By definition, Stray Dog Pick-Up means that a person picked up a dog and then animal services came and picked it up from them. We are exploring the “Stray Dog Pick-Up” data in 2017.</p>
    </div>

    <div class="pickup">
      <h2>The Pick-Up Process</h2>
      <h3>Stray Dog At Large vs. Stray Dog Pick Up</h3>
      <img src="pickup.svg" alt="Pick Up Infographic">
      <p>Stray Dog Pick up means that a person picked up a dog and animal services came and picked it up from them. Once the dogs are picked up, they have an account assigned to them and receive their rabies vaccinations and license. However, it it is important to note that Injured animals inquires take priority over stray dog calls.</p>
      <p>Although not explored in our data sets, another category stray dogs fall under is “Stray Dog at Large.”  The difference is a stray dog at large is a dog someone spots and calls in, the dog is not contained, it could be roaming around. Catching a stray dog can often be a volatile process. Because these animals aren’t tied to a specific residence, they are prone to constant movement and can be difficult to find.</p>
      <p>In 2017, there were 7,753 calls related to stray dog pick up or stray dog at large -1,955 were for stray dog pick up and 5,798 were for stray dog at large. Overall, there has been a decline with number of calls related to stray dog calls by 18% from 2016- 2017.</p>
    </div>

    <div class="callCategory">
      <h2><span>&nbsp The Types of Calls &nbsp</span></h2>
      <h3>Number of Calls by Category (2017)</h3>
    </div>

    <div id="categoryChart">
      <!-- <script type="text/javascript" src="js/d3.v4.js"></script> -->
    </div>

    <div class="categoryChartText">
      <p>The most common call category during the year of 2017 is related to updating pet information and the 2nd most common call category is Stray dog-at-large. However, stray dog-at-large merely means whoever called saw a stray dog without picking it up, and the animal service at Miami-Dade county went to the reported place without necessarily retrieved the dog. On the other hand, stray dog pick-up meaning the person who called actually got the dog. On top of that, people love dogs and stray dog can be a big concern for animal lovers. Therefore, we will be focusing on stray dog pick-up for the story and explore how their situation looks like within Miami-Dade county.</p>
    </div>

    <!-- Heat Map and Scatter Plot -->
        <div class="locations">
          <h2><span>&nbsp The Pick-Up Locations &nbsp</span></h2>
          <h3>Stray Dog Pick-Up Locations (2017)</h3>
        </div>

        <div id="map"></div>


        <div class="locationText">
          <p>The heatmap above demonstrates the zipcodes with the most 311 requests related to “Stray Dog Pick Up” in 2017. Hover over the icon in the top right of the map to view other map layers such as “Stray Dog Pick Up” requests by individual addresses and to view where animal shelters in Miami-Dade are located  in comparison to where the reports are coming from.</p>
        </div>

    <div class="byDistrictTitle">
      <h2><span>&nbsp The Districts &nbsp</span></h2>
    <h3>Stray Dog Count by Districts in Miami (2017)</h3>
    </div>

    <div id="chart"></div>
      <!-- <img src="placeholder1.png" alt="bargraph1" class="placeholder1"> -->
    <div class="byDistrictText">
      <p>Stray Dog Count in Miami has seen a notable decline in recent years. In a closer look to how long it takes to place these stray dogs, we’ve found the average amount of placement days per district. District 4 (North Miami) had a significantly longer time placing stray dogs than the other districts, estimating 7.2 days in total. District 10 (Kendall, Westchester, and Fontainebleau) had the shortest turnaround time, averaging at 1.9 days for stray dog placement. While the other districts mostly ranged around the 2 days return period (District 4 and District 6 excluded), the shorter the turnaround time, the better it’ll be for our furry friends.</p>
    </div>

    <div class="monthtitle">
    <h2><span>&nbsp The Calls by Month &nbsp</span></h2>
    <h3>Stray Dog Pick-Up Calls By Month (2017)</h3>
    </div>


    <div id="monthchart">
      <label><input type="radio" class="sort">Sort by number of calls</label>

    </div>

    <div class="monthtext">
      <p>The stray dog pick up calls in Miami-Dade county during the year of 2017 varies a lot depending on the month. During the highest month August, there could be 212 calls related to stray dog pick up, while the lowest month December only had 112 calls related to the issue.</p>
    <!-- var ufMap = L.map("map").setview([29.646, -82.349], 15) -->
    <!-- L.titleLayer("https.png")
    maxZoom: 20 -->
    </div>

  <div class="shelterstitle">
    <h2><span>&nbsp The Shelters &nbsp</span></h2>
    <h3>Where do the Animals Go?</h3>
  <!-- <img src="js/paw_blue.png">
  <img src="js/paw_green.png"> -->
  </div>
  <div id="shelter"></div>
    <script src="js/sheltermap.js"></script>

  <div class="shelterstext">
      <p>The animals picked-up from the 3-1-1 calls make their way to the Miami-Dade County Animal Services Center. The center's mission includes saving lives, protecting animals against cruelty, and reuniting lost pets with their owners. As part of their mission, the center offers many services, including pet adoption, animal licenses, and vaccinations.</p>

      <p> The center has taken in over <strong>41,000</strong> dogs in the last 3 year.</p>

      <p>To help with the intake of stray dogs, there are several non-profit organizations throughout Miami-Dade that are also helping stray or unwanted dogs find a home. Through the donations and with the help of volunteers, these organizations provide a foster home and assist with medical needs. </p>

      <p>Click on the paw icons to view the shelters available in Miami-Dade.</p>

  </div>

  <div class="shelterlegend">
    <img src="mapshelters_legend.svg" alt="shelter map legend">
  </div>


     <script src="js/underscore-min.js"></script>
      <script src="js/zepto.min.js"></script>
    <script src="js/addressData.js"></script>
     <script src="js/straydata.js"></script>
    <script src="js/leaflet-heat.js"></script>
     <script src="js/allData.js"></script>
      <script src="js/call-category.js"></script>

      <script src="js/monthcall.js"></script>


      <script src="js/flotr2.min.js"></script>
      <script>
        var wins = [
          [[0, 2.6]], [[1, 2]], [[2, 2.6]], [[3, 7.2]], [[4, 2.4]], [[5, 2.3]], [[6, 3]], [[7, 2.1]], [[8, 2.1]],
           [[9, 1.9]], [[10, 1.9]], [[11, 2.3]], [[12, 2.1]]
        ];


        var teams = [
          [0, "1"],
          [1, "2"],
          [2, "3"],
          [3, "4"],
          [4, "5"],
          [5, "6"],
          [6, "7"],
          [7, "8"],
          [8, "9"],
          [9, "10"],
          [10,"11"],
          [11,"12"],
          [12, "13"],

        ];

        window.onload = function() {
          Flotr.draw(
            document.getElementById("chart"),
            wins,
            {
              // title: "Stray Dog Count by Districts in Miami in 2017",
              HtmlText: false,
              // title: "Stray Dog Count by District in Miami in 2017",
              colors: ["#669933", "#85bc4d", "#9cce69", "#b3e086", "#ccf2a7", "#dffcc2", "#d5f0dc", "#cae2f9", "#90c4f9", "#74b0ed", "#5199e2", "#277ace", "#0066cc"],
              bars: {
                show: true,
                barWidth: 0.6,
                shadowSize: 0,
                fillOpacity: 1,
                lineWidth: 0
              },
              yaxis: {
                min: 0,
                tickDecimals: 0,
                title: "Number of Days"
              },
              xaxis: {
                ticks: teams,
                title: "Miami-Dade County Districts"
              },
              grid: {
                horizontalLines: false,
                verticalLines: false
              }
            }
          )
        }
      </script>

      <script>
      var map = L.map('map', {
        center: [25.612552, -80.379380],
        zoom: 10,
        layers: [AllData.Basemaps.Greyscale, AllData.LayerGroups.zip]
      });

      // Overlay layers are grouped
      var groupedOverlays = {
        "311 Report Location": {
          "By Zip Code": AllData.LayerGroups.zip,
          "By Address": AllData.LayerGroups.addresses
        },
       "Animal Shelters": {
          "Shelters in Miami-Dade": AllData.LayerGroups.shelters,
           //  "Non-Profits": AllData.LayerGroups.nonProfits,
        },

      };

      var options = {
        exclusiveGroups: ["Landmarks"],
        // Show a checkbox next to non-exclusive group labels for toggling all
       // groupCheckboxes: true
      };


      var layerControl = L.control.groupedLayers(AllData.Basemaps, groupedOverlays, options);
      map.addControl(layerControl);
</script>
</main>
  </div>
  </body>
</html>
